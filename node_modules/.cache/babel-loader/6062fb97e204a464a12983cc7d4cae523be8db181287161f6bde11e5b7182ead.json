{"ast":null,"code":"var _jsxFileName = \"D:\\\\ocadostore\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport ProductList from \"./components/ProductList\";\nimport ShoppingCart from \"./components/ShoppingCart\";\nimport OrderSummary from \"./components/OrderSummary\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [currentPage, setCurrentPage] = useState(\"products\");\n  useEffect(() => {\n    fetch(\"/products.json\").then(response => response.json()).then(data => setProducts(data));\n  }, []);\n  const handleAddToCart = product => {\n    setCartItems(prevItems => {\n      const existingItem = prevItems.find(item => item.product.id === product.id);\n      if (existingItem) {\n        return prevItems.map(item => item.product.id === product.id ? {\n          ...item,\n          quantity: item.quantity + 1\n        } : item);\n      } else {\n        return [...prevItems, {\n          product,\n          quantity: 1\n        }];\n      }\n    });\n  };\n  const handleAddItem = productId => {\n    setCartItems(prevItems => prevItems.map(item => item.product.id === productId ? {\n      ...item,\n      quantity: item.quantity + 1\n    } : item));\n  };\n  const handleRemoveItem = productId => {\n    setCartItems(prevItems => {\n      const existingItem = prevItems.find(item => item.product.id === productId);\n      if (existingItem && existingItem.quantity > 1) {\n        return prevItems.map(item => item.product.id === productId ? {\n          ...item,\n          quantity: item.quantity - 1\n        } : item);\n      } else {\n        return prevItems.filter(item => item.product.id !== productId);\n      }\n    });\n  };\n  const handleChangeQuantity = (productId, quantity) => {\n    if (quantity < 1) return;\n    setCartItems(prevItems => prevItems.map(item => item.product.id === productId ? {\n      ...item,\n      quantity\n    } : item));\n  };\n  const handlePlaceOrder = () => {\n    const orderData = {\n      items: cartItems,\n      total: cartItems.reduce((sum, item) => sum + (item.product.price.main * 100 + item.product.price.fractional) * item.quantity / 100, 0),\n      date: new Date().toISOString()\n    };\n    localStorage.setItem(\"currentOrder\", JSON.stringify(orderData));\n    window.location.href = \"/confirmation.html\";\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [currentPage === \"products\" && /*#__PURE__*/_jsxDEV(ProductList, {\n      products: products,\n      onAddToCart: handleAddToCart,\n      onViewCart: () => setCurrentPage(\"cart\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this), currentPage === \"cart\" && /*#__PURE__*/_jsxDEV(ShoppingCart, {\n      cartItems: cartItems,\n      onAddItem: handleAddItem,\n      onRemoveItem: handleRemoveItem,\n      onChangeQuantity: handleChangeQuantity,\n      onCheckout: () => setCurrentPage(\"summary\"),\n      onContinueShopping: () => setCurrentPage(\"products\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this), currentPage === \"summary\" && /*#__PURE__*/_jsxDEV(OrderSummary, {\n      cartItems: cartItems,\n      onPlaceOrder: handlePlaceOrder,\n      onBackToCart: () => setCurrentPage(\"cart\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"N779fXPsR+i28UjSNyUW1hbcEBU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","ProductList","ShoppingCart","OrderSummary","jsxDEV","_jsxDEV","App","_s","products","setProducts","cartItems","setCartItems","currentPage","setCurrentPage","fetch","then","response","json","data","handleAddToCart","product","prevItems","existingItem","find","item","id","map","quantity","handleAddItem","productId","handleRemoveItem","filter","handleChangeQuantity","handlePlaceOrder","orderData","items","total","reduce","sum","price","main","fractional","date","Date","toISOString","localStorage","setItem","JSON","stringify","window","location","href","className","children","onAddToCart","onViewCart","fileName","_jsxFileName","lineNumber","columnNumber","onAddItem","onRemoveItem","onChangeQuantity","onCheckout","onContinueShopping","onPlaceOrder","onBackToCart","_c","$RefreshReg$"],"sources":["D:/ocadostore/src/App.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { CartItem, Product } from \"./types\";\r\nimport ProductList from \"./components/ProductList\";\r\nimport ShoppingCart from \"./components/ShoppingCart\";\r\nimport OrderSummary from \"./components/OrderSummary\";\r\n\r\nconst App: React.FC = () => {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [cartItems, setCartItems] = useState<CartItem[]>([]);\r\n  const [currentPage, setCurrentPage] = useState<\r\n    \"products\" | \"cart\" | \"summary\"\r\n  >(\"products\");\r\n\r\n  useEffect(() => {\r\n    fetch(\"/products.json\")\r\n      .then((response) => response.json())\r\n      .then((data) => setProducts(data));\r\n  }, []);\r\n\r\n  const handleAddToCart = (product: Product) => {\r\n    setCartItems((prevItems) => {\r\n      const existingItem = prevItems.find(\r\n        (item) => item.product.id === product.id\r\n      );\r\n      if (existingItem) {\r\n        return prevItems.map((item) =>\r\n          item.product.id === product.id\r\n            ? { ...item, quantity: item.quantity + 1 }\r\n            : item\r\n        );\r\n      } else {\r\n        return [...prevItems, { product, quantity: 1 }];\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleAddItem = (productId: number) => {\r\n    setCartItems((prevItems) =>\r\n      prevItems.map((item) =>\r\n        item.product.id === productId\r\n          ? { ...item, quantity: item.quantity + 1 }\r\n          : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleRemoveItem = (productId: number) => {\r\n    setCartItems((prevItems) => {\r\n      const existingItem = prevItems.find(\r\n        (item) => item.product.id === productId\r\n      );\r\n      if (existingItem && existingItem.quantity > 1) {\r\n        return prevItems.map((item) =>\r\n          item.product.id === productId\r\n            ? { ...item, quantity: item.quantity - 1 }\r\n            : item\r\n        );\r\n      } else {\r\n        return prevItems.filter((item) => item.product.id !== productId);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleChangeQuantity = (productId: number, quantity: number) => {\r\n    if (quantity < 1) return;\r\n    setCartItems((prevItems) =>\r\n      prevItems.map((item) =>\r\n        item.product.id === productId ? { ...item, quantity } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const handlePlaceOrder = () => {\r\n    const orderData = {\r\n      items: cartItems,\r\n      total: cartItems.reduce(\r\n        (sum, item) =>\r\n          sum +\r\n          ((item.product.price.main * 100 + item.product.price.fractional) *\r\n            item.quantity) /\r\n            100,\r\n        0\r\n      ),\r\n      date: new Date().toISOString(),\r\n    };\r\n    localStorage.setItem(\"currentOrder\", JSON.stringify(orderData));\r\n    window.location.href = \"/confirmation.html\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {currentPage === \"products\" && (\r\n        <ProductList\r\n          products={products}\r\n          onAddToCart={handleAddToCart}\r\n          onViewCart={() => setCurrentPage(\"cart\")}\r\n        />\r\n      )}\r\n      {currentPage === \"cart\" && (\r\n        <ShoppingCart\r\n          cartItems={cartItems}\r\n          onAddItem={handleAddItem}\r\n          onRemoveItem={handleRemoveItem}\r\n          onChangeQuantity={handleChangeQuantity}\r\n          onCheckout={() => setCurrentPage(\"summary\")}\r\n          onContinueShopping={() => setCurrentPage(\"products\")}\r\n        />\r\n      )}\r\n      {currentPage === \"summary\" && (\r\n        <OrderSummary\r\n          cartItems={cartItems}\r\n          onPlaceOrder={handlePlaceOrder}\r\n          onBackToCart={() => setCurrentPage(\"cart\")}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}